{"version":3,"sources":["../../server/controllers/userController.js"],"names":["createUser","userOperations","loginUser","UserController","req","res","validData","email","first_name","last_name","password","phoneNumber","address","is_admin","token","newUser","then","result","error","status","statusCode","json","data","err","body"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\r\nimport uuidv4 from 'uuid';\r\nimport userOperations from '../models/users';\r\n\r\nconst { createUser, loginUser } = userOperations;\r\n\r\nclass UserController {\r\n  static signUpUser(req, res) {\r\n    const {\r\n      email, first_name, last_name, password, phoneNumber, address, is_admin,\r\n    } = req.validData;\r\n    const token = uuidv4();\r\n    const newUser = {\r\n      token, email, first_name, last_name, password, phoneNumber, address, is_admin,\r\n    };\r\n    createUser(newUser)\r\n      .then((result) => {\r\n        if (result.error) return res.status(result.statusCode).json({ status: 'error', error: result.error });\r\n        const { statusCode, data, status } = result;\r\n        data.token = uuidv4();\r\n        res.status(statusCode).json({ status, data });\r\n      })\r\n      .catch((err) => {\r\n        res.status(500).json(err);\r\n      });\r\n  }\r\n\r\n  static signInUser(req, res) {\r\n    const { email, password } = req.body;\r\n    loginUser(email, password)\r\n      .then((result) => {\r\n        if (result.error) return res.status(result.statusCode).json({ status: 'error', error: result.error });\r\n        const { statusCode, data, status } = result;\r\n        res.status(statusCode).json({ status, data });\r\n      })\r\n      .catch(/* istanbul ignore next */(err) => {\r\n        res.status(500).json(err);\r\n      });\r\n  }\r\n}\r\n\r\nexport default UserController;\r\n"],"file":"userController.js"}