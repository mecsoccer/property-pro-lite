{"version":3,"sources":["../../../server/test/controllers/propertyController.spec.js"],"names":["chai","use","chaiHttp","expect","newValidProperty","propertyData","invalidOwner","invalidPrice","invalidState","invalidCity","invalidAddress","invalidType","invalidImageUrl","validPropertyUpdate","describe","it","done","request","app","post","send","end","err","res","to","equal","status","body","have","property","that","is","an","equals","data","a","get","patch"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport app from '../../index';\r\nimport propertyData from '../testData/propertyData';\r\n\r\nchai.use(chaiHttp);\r\nconst { expect } = chai;\r\n\r\nconst {\r\n  newValidProperty, invalidOwner, invalidPrice, invalidState, invalidCity,\r\n  invalidAddress, invalidType, invalidImageUrl, validPropertyUpdate,\r\n} = propertyData;\r\n\r\ndescribe('Tests for property Routes', () => {\r\n  describe('tests for post route', () => {\r\n    it('#should return 201 and created object if data is valid', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(newValidProperty)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(201);\r\n          expect(res.body).to.have.property('data').that.is.an('object');\r\n          expect(res.body).to.have.property('status').that.equals('success');\r\n          expect(res.body.data).to.have.property('id');\r\n          expect(res.body.data).to.have.property('status').that.is.a('string');\r\n          expect(res.body.data).to.have.property('type').that.is.a('string');\r\n          expect(res.body.data).to.have.property('price').that.is.a('string');\r\n          expect(res.body.data).to.have.property('state');\r\n          expect(res.body.data).to.have.property('city').that.is.a('string');\r\n          expect(res.body.data).to.have.property('address').that.is.a('string');\r\n          expect(res.body.data).to.have.property('created_on');\r\n          expect(res.body.data).to.have.property('image_url').that.is.a('string');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid owner', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidOwner)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid price', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidPrice)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid state', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidState)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid city', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidCity)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid address', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidAddress)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid property type', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidType)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('#should return a 422 and error message for invalid image url', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/properties')\r\n        .send(invalidImageUrl)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(422);\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('tests for get routes', () => {\r\n    it('should return all properties', (done) => {\r\n      chai.request(app)\r\n        .get('/api/v1/properties')\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(200);\r\n          expect(res.body).to.have.property('status').that.equals('success');\r\n          expect(res.body).to.have.property('data').that.is.an('array');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('should return a specific property', (done) => {\r\n      chai.request(app)\r\n        .get('/api/v1/properties/1')\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(200);\r\n          expect(res.body).to.have.property('status').that.equals('success');\r\n          expect(res.body).to.have.property('data').that.is.an('object');\r\n          expect(res.body.data).to.have.property('id').that.is.a('string');\r\n          expect(res.body.data).to.have.property('status').that.is.a('string');\r\n          expect(res.body.data).to.have.property('type').that.is.a('string');\r\n          expect(res.body.data).to.have.property('state').that.is.a('string');\r\n          expect(res.body.data).to.have.property('city').that.is.a('string');\r\n          expect(res.body.data).to.have.property('address').that.is.a('string');\r\n          expect(res.body.data).to.have.property('price').that.is.a('string');\r\n          expect(res.body.data).to.have.property('created_on').that.is.a('string');\r\n          expect(res.body.data).to.have.property('image_url').that.is.a('string');\r\n          expect(res.body.data).to.have.property('ownerEmail').that.is.a('string');\r\n          expect(res.body.data).to.have.property('ownerPhoneNumber').that.is.a('string');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('should return all properties of a specific type', (done) => {\r\n      chai.request(app)\r\n        .get('/api/v1/properties/type/2 bedroom')\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(200);\r\n          expect(res.body).to.have.property('status').that.equals('success');\r\n          expect(res.body).to.have.property('data').that.is.an('array');\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('tests for patch route', () => {\r\n    it('should update property advert', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/properties/2')\r\n        .send(validPropertyUpdate)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(200);\r\n          expect(res.body).to.have.property('status').that.equals('success');\r\n          expect(res.body).to.have.property('data').that.is.an('object');\r\n          expect(res.body.data).to.have.property('id');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('should return 404 if property id does not exist', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/properties/1000000000')\r\n        .send(validPropertyUpdate)\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(404);\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('tests for delete route', () => {\r\n    it('should delete property', (done) => {\r\n      chai.request(app)\r\n        .delete('/api/v1/properties/4')\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(200);\r\n          expect(res.body).to.have.property('status').that.equals('success');\r\n          expect(res.body).to.have.property('data').that.is.an('object');\r\n          expect(res.body.data).to.have.property('id');\r\n          done();\r\n        });\r\n    });\r\n\r\n    it('should return 404 for non-existing id delete property', (done) => {\r\n      chai.request(app)\r\n        .delete('/api/v1/properties/0')\r\n        .end((err, res) => {\r\n          expect(err).to.equal(null);\r\n          expect(res.status).to.equal(404);\r\n          expect(res.body).to.have.property('status').that.equals('error');\r\n          expect(res.body).to.have.property('error').that.is.a('string');\r\n          done();\r\n        });\r\n    });\r\n  });\r\n});\r\n"],"file":"propertyController.spec.js"}